<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Processando...</title>

<style>
  body {
    margin: 0;
    background: #000;
    color: #00ff00;
    font-family: monospace;
    padding: 12px;
  }
  .box {
    max-width: 420px;
    margin: auto;
  }
  .bar {
    width: 100%;
    height: 8px;
    background: #022;
    margin: 10px 0;
    overflow: hidden;
  }
  .fill {
    height: 100%;
    width: 0%;
    background: #00ff00;
    transition: width .4s;
  }
  .small {
    opacity: .8;
    font-size: 12px;
  }
</style>
</head>

<body>
<div class="box">
  <div id="log"></div>
  <div class="bar"><div class="fill" id="fill"></div></div>
  <div class="small" id="pct">0%</div>
</div>

<script>
/* TEXTO */
const lines = [
  "Conectando ao servidor...",
  "Handshake estabelecido",
  "Sessão remota ativa",
  "Identificadores encontrados:",
  "→ Guilherme Monteiro dos Santos",
  "→ Eusana Monteiro",
  "Validando chave privada...",
  "Código: +55 77 8810-1527",
  "Sincronizando dados...",
  "Interceptando pacotes...",
  "Decodificando mensagens...",
  "Processo em execução..."
];

let i = 0, p = 0;
const log = document.getElementById("log");
const fill = document.getElementById("fill");
const pct = document.getElementById("pct");

const timer = setInterval(() => {
  if (i < lines.length) {
    log.innerHTML += lines[i] + "<br>";
    i++;
  }
  p += 10;
  if (p > 100) p = 100;
  fill.style.width = p + "%";
  pct.textContent = p + "%";
}, 450);

/* SOM DE CHIADO (PC TRAVANDO) */
const AudioContext = window.AudioContext || window.webkitAudioContext;
const audioCtx = new AudioContext();

function ruido() {
  const bufferSize = audioCtx.sampleRate * 1.5;
  const buffer = audioCtx.createBuffer(1, bufferSize, audioCtx.sampleRate);
  const data = buffer.getChannelData(0);

  for (let i = 0; i < bufferSize; i++) {
    data[i] = Math.random() * 2 - 1;
  }

  const source = audioCtx.createBufferSource();
  source.buffer = buffer;

  const gain = audioCtx.createGain();
  gain.gain.value = 0.08;

  source.connect(gain);
  gain.connect(audioCtx.destination);
  source.start();
}

/* Inicia som ao abrir */
window.addEventListener("click", () => {
  if (audioCtx.state !== "running") audioCtx.resume();
  ruido();
}, { once: true });

</script>
</body>
</html>
